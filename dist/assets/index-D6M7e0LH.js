(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const o=this.getAttribute("href"),s=document.querySelector(o);if(s){const n=document.querySelector(".nav").offsetHeight,r=s.getBoundingClientRect().top+window.pageYOffset-n-20;window.scrollTo({top:r,behavior:"smooth"});const a=document.querySelector(".nav-links"),c=document.querySelector(".mobile-menu-btn");a.classList.contains("active")&&(a.classList.remove("active"),c.classList.remove("active"),document.body.style.overflow="")}})});const y=document.querySelector(".nav");function h(){window.pageYOffset>50?y.style.boxShadow="0 4px 20px rgba(26, 58, 74, 0.15)":y.style.boxShadow="none"}window.addEventListener("scroll",h,{passive:!0});const f=document.querySelector(".mobile-menu-btn"),m=document.querySelector(".nav-links");f&&f.addEventListener("click",()=>{m.classList.toggle("active"),f.classList.toggle("active"),document.body.style.overflow=m.classList.contains("active")?"hidden":""});document.addEventListener("keydown",e=>{e.key==="Escape"&&m.classList.contains("active")&&(m.classList.remove("active"),f.classList.remove("active"),document.body.style.overflow="")});const S={root:null,rootMargin:"-50px 0px",threshold:[0,.1,.25]},i=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.intersectionRatio>=.1&&t.target.classList.add("visible")})},S);function E(){document.querySelectorAll(".section-header").forEach(e=>{e.classList.add("fade-in"),i.observe(e)}),document.querySelectorAll(".section-tag").forEach(e=>{e.classList.add("fade-in"),i.observe(e)}),document.querySelectorAll(".problem-list li").forEach((e,t)=>{e.classList.add("fade-in"),e.style.transitionDelay=`${t*.15}s`,i.observe(e)}),document.querySelectorAll(".service-card").forEach((e,t)=>{e.classList.add("fade-in"),e.style.transitionDelay=`${t*.15}s`,i.observe(e)}),document.querySelectorAll(".timeline-item").forEach((e,t)=>{e.classList.add("fade-in"),e.style.transitionDelay=`${t*.2}s`,i.observe(e)}),document.querySelectorAll(".result-card").forEach((e,t)=>{e.classList.add("fade-in"),e.style.transitionDelay=`${t*.1}s`,i.observe(e)}),document.querySelectorAll(".stat-card").forEach(e=>{e.classList.add("fade-in"),i.observe(e)}),document.querySelectorAll(".testimonial").forEach(e=>{e.classList.add("fade-in"),i.observe(e)}),document.querySelectorAll(".cta-content").forEach(e=>{e.classList.add("fade-in"),i.observe(e)})}function q(e){return e===1?1:1-Math.pow(2,-10*e)}function x(e,t,o=2e3,s=""){const r=performance.now();function a(c){const l=c-r,u=Math.min(l/o,1),L=q(u);let d=0+(t-0)*L;t%1!==0?d=d.toFixed(1):d=Math.floor(d),e.textContent=d+s,u<1&&requestAnimationFrame(a)}requestAnimationFrame(a)}const A=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting&&!t.target.dataset.animated){t.target.dataset.animated="true";const o=t.target.textContent,s=parseFloat(o);if(!isNaN(s)){let n="";o.includes("%")?n="%":o.includes("x")&&(n="x"),x(t.target,s,2e3,n)}}})},{threshold:.5});document.querySelectorAll(".stat-number, .result-number").forEach(e=>{A.observe(e)});const I=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const o=document.querySelector(".track-progress");o&&(o.style.height="100%")}})},{threshold:.3}),g=document.querySelector(".approach");g&&I.observe(g);let p=!1;function O(){const e=window.pageYOffset,t=document.querySelector(".graphic-sun"),o=document.querySelector(".wave-stack"),s=document.querySelector(".sun");e<window.innerHeight&&(t&&(t.style.transform=`translateX(-50%) translateY(${e*.2}px)`),o&&(o.style.transform=`translateY(${e*.1}px)`),s&&(s.style.transform=`scale(${1+e*3e-4}) translateY(${e*.15}px)`)),p=!1}window.addEventListener("scroll",()=>{p||(requestAnimationFrame(O),p=!0)},{passive:!0});const v=document.querySelector(".scroll-indicator");function b(){if(v){const e=Math.max(0,1-window.pageYOffset/200);v.style.opacity=e,v.style.pointerEvents=e<.5?"none":"auto"}}window.addEventListener("scroll",b,{passive:!0});document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("mousedown",()=>{e.style.transform="translate(6px, 6px)",e.style.boxShadow="0 0 0 var(--color-navy)"}),e.addEventListener("mouseup",()=>{e.style.transform="",e.style.boxShadow=""}),e.addEventListener("mouseleave",()=>{e.style.transform="",e.style.boxShadow=""})});window.matchMedia("(hover: hover) and (pointer: fine)").matches&&document.querySelectorAll(".service-card, .result-card").forEach(e=>{e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),s=t.clientX-o.left,n=t.clientY-o.top,r=o.width/2,a=o.height/2,c=(n-a)/20,l=(r-s)/20;e.style.transform=`perspective(1000px) rotateX(${c}deg) rotateY(${l}deg) translateY(-4px)`}),e.addEventListener("mouseleave",()=>{e.style.transform=""})});document.querySelectorAll(".tag-stripes, .badge-stripe, .scroll-wave span").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scaleY(1.3)"}),e.addEventListener("mouseleave",()=>{e.style.transform=""})});function w(){const e=document.querySelectorAll("section"),t=window.innerHeight;e.forEach(o=>{o.getBoundingClientRect().top<t-150&&o.classList.add("section-visible")})}window.addEventListener("scroll",w,{passive:!0});function M(){const e=document.querySelectorAll(".wave-ribbon");let t=0;window.addEventListener("scroll",()=>{t=window.pageYOffset/(document.body.scrollHeight-window.innerHeight),e.forEach((o,s)=>{const n=Math.sin(t*Math.PI*2+s)*10;o.style.transform=`translateX(${n}px)`})},{passive:!0})}document.querySelectorAll(".problem-list li").forEach((e,t)=>{const o=["var(--color-coral)","var(--color-teal)","var(--color-amber)"];e.addEventListener("mouseenter",()=>{e.style.borderLeftColor=o[t%o.length],e.style.borderLeftWidth="6px"}),e.addEventListener("mouseleave",()=>{e.style.borderLeftColor="",e.style.borderLeftWidth=""})});function C(){const e=document.getElementById("contactForm"),t=document.getElementById("formSuccess");e&&e.addEventListener("submit",async o=>{o.preventDefault();const s=e.querySelector('button[type="submit"]'),n=s.innerHTML;s.disabled=!0,s.innerHTML="<span>Sending...</span>";const r={name:e.name.value,company:e.company.value,email:e.email.value,revenue:e.revenue.value,message:e.message.value};try{const l=await fetch("https://bqlxxgrgpipisqzmyhtz.supabase.co/functions/v1/contact-form",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxbHh4Z3JncGlwaXNxem15aHR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxMDg4MzEsImV4cCI6MjA4NDY4NDgzMX0.vYwA8-VbAnyw62FGGd5t_ZZQ0c2tNSBnN8MSdwmPPrM"},body:JSON.stringify(r)});if(l.ok)e.style.display="none",t.style.display="block",e.reset();else{const u=await l.json();alert("Error submitting form: "+(u.error||"Please try again")),s.disabled=!1,s.innerHTML=n}}catch(a){console.error("Error submitting form:",a),alert("Error submitting form. Please try again or contact us directly at ted@vendingintelligence.co"),s.disabled=!1,s.innerHTML=n}})}function Y(){document.querySelectorAll(".faq-question").forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".faq-item"),s=o.classList.contains("active");document.querySelectorAll(".faq-item").forEach(n=>{n.classList.remove("active"),n.querySelector(".faq-question").setAttribute("aria-expanded","false")}),s||(o.classList.add("active"),t.setAttribute("aria-expanded","true"))})})}document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.classList.add("loaded")},100),E(),M(),Y(),C(),h(),w(),b(),console.log("%c FIC %c The Fractional Intelligence Company ","background: linear-gradient(135deg, #e8715e, #e6a23c); color: #f5f0e6; font-weight: bold; padding: 8px 12px; border-radius: 4px 0 0 4px;","background: #1a3a4a; color: #f5f0e6; padding: 8px 12px; border-radius: 0 4px 4px 0;")});window.addEventListener("load",()=>{document.body.classList.add("fully-loaded"),document.querySelectorAll(".fade-in").forEach(e=>{e.getBoundingClientRect().top<window.innerHeight&&e.classList.add("visible")})});
